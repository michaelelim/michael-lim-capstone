'use strict';

module.exports = class ArrayCommon {

  constructor () {
    var self = this;
  }

  each (obj, iterator) {
    var self = this;
    if (Array.isArray(obj)) {
      return obj.forEach(iterator);
    }
    if (!self.isObject(obj)) {
      return obj;
    }
    return Object.keys(obj).forEach((name) => {
      iterator(obj[name], name);
    });
  }

  removeMany (arr, items) {
    return arr.filter((item) => {
      return !items.includes(item);
    });
  }

  remove (arr, item) {
    var self = this;
    if (Array.isArray(item)) {
      return self.removeMany(arr, item);
    }
    arr.splice(arr.indexOf(item), 1)[0];
    return arr;
  }

  unique (arr) {
    var self = this,
      res = [];
    arr.forEach(item => {
      if (res.indexOf(item) > -1) { return; }
      res.push(item);
    });
    return res;
  }

  uniq (...args) { return this.unique(...args); }

}
