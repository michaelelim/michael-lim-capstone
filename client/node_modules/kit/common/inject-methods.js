function injectMethods(target, source) {
  _.each(source, (method, name) => {
    if (typeof method !== 'function') return;
    target[name] = toMethod(method);
  });
  return target;
}

function toMethod(fn) {
  return function (...args) {
    args.unshift(this);
    return fn.apply(this, args);
  };
}

injectMethods.toMethod = toMethod;

module.exports = injectMethods;
