'use strict';

const _ = require('lodash');
const sanitize = require('sanitize-html');
const striptags = require('striptags');
const moment = require('moment');

moment.locale('ru');

_.extend(Date.prototype, {

  shortDate () {
    var self = this;
    return moment(self.getTime()).format('DD MMMM YYYY года HH:mm:ss');
  },

  miniDate () {
    var self = this;
    return moment(self.getTime()).format('DD MMMM, HH:mm:ss');
  },

  toString () {
    var months = [
      'Января',
      'Февраля',
      'Марта',
      'Апреля',
      'Мая',
      'Июня',
      'Июля',
      'Августа',
      'Сентября',
      'Октября',
      'Ноября',
      'Декабря'
    ];
    return this.getDate() + ' ' +
      months[this.getMonth()] + ' ' +
      this.getFullYear() + ' ' +
      ((this.getHours() + '').length === 1
        ? '0' + this.getHours()
        : this.getHours()) + ':' +
      ((this.getMinutes() + '').length === 1
        ? '0' + this.getMinutes()
        : this.getMinutes()) + ':' +
      ((this.getSeconds() + '').length === 1
        ? '0' + this.getSeconds()
        : this.getSeconds());
  },

});
