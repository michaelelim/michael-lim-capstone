import tags from './tags';
import clearTags from '../../common/clear-tags';

Object.assign(Element.prototype, {

  getCaseType (content = null, tag = null) {
    var self = this,
      tag = self.getTag() || tag;
    if (!tag.isContainer && !content) {
      return 1;
    }
    if (!tag.isContainer && !!content) {
      return 2;
    }
    if (tag.isContainer && !content) {
      return 3;
    }
    if (tag.isContainer && !!content) {
      return 4;
    }
  },

  getTag () {
    var self = this,
      name = self.tagName.toLowerCase();
    return document.getTagByName(name);
  },

  getLevel() {
    var self = this,
      level = self.data._level;
    if (!level) {
      level = self.data._level = 0;
    }
    return level;
  },

  create(name = 'div', className = '', content = '', attrs = {}) {
    var self = this,
      a = self.getCaseType(!!self.innerHTML.trim()),
      tag = document.getTagByName(name),
      elem = document.createElement(tag.tagName || 'div'),
      b = elem.getCaseType(content, tag),
      classes = elem.parseClassList(className);

    content ? elem.innerHTML = content : '';

    Object.keys(attrs).forEach(name => {
      elem.setAttribute(name, attrs[name]);
    });

    self.appendChild(elem);

    return elem;

    if (a === 4) {
      return elem;
    }

    if (a === 3 && b === 3) {
      return elem;
    }


    return self;
  },

});
