'use strict';

/**
function clone(data, [deep])

*/

const _ = {
  each: require('./each'),
};

function cloneData (data, deep = false) {
  var result = {};
  if (!data) return data;
  if (typeof data !== 'object') return data;
  if (Array.isArray(data))
    return data.slice(0);
  _.each(data, (val, key) => {
    if (deep) val = cloneData(val, true);
    result[key] = val;
  });
  return result;
}

module.exports = cloneData;
