'use strict';

function queue(its, cb) {
  return new Promise((resolve, reject) => {
    var items = its.slice(0),
      results = [];
    next();
    function next() {
      var item = items.shift();
      if (!item) return resolve(results);
      cb(item).then((result) => {
        results.push(result);
        next();
      });
    }
  });
}

module.exports = queue;
