'use strict';

const _ = {
  extend: require('./extend'),
  base64: require('./base64'),
};

const state = {

};

function dataUrl(...args) {
  return fromText(...args);
}

function fromText(source, type = `text/plain`) {
  var code = _.base64.encode(source),
    url = `data:${type};base64,${code}`;
  return url;
}

function fromUrl(url) {
  return _.base64.decode(url.split(`;base64,`)[1]);
}

_.extend(dataUrl, {
  fromText,
  fromUrl,
});

module.exports = dataUrl;
