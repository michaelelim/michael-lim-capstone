const _ = {
  each: require('./each'),
};

function testSearch(s = '', t = '', rate = false) {
  var source = s.toLowerCase(),
    text = t.toLowerCase(),
    words = text.split(' '),
    found = 0;
  _.each(words, w => {
    if (source.includes(w)) found++;
  });
  if (rate === false)
    return found === words.length;
  if (rate === true)
    return Math.round(found / words.length * 100);
  if (typeof rate === 'number')
    return found >= rate;
}

module.exports = testSearch;
