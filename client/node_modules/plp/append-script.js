'use strict';

/**
function appendScript(url)
*/

const _ = {
  doc: require('./doc'),
  on: require('./on'),
};

function appendScript (url) {
  return new Promise((resolve, reject) => {
    var elem = _.doc.createElement('script');
    elem.src = url;
    _.on(elem, 'load', () => {
      console.info(`Script «${url}» loaded successfully.`);
      resolve(elem);
    }, false);
    _.on(elem, 'error', ev => reject(ev), false);
    _.doc.body.appendChild(elem);
  });
}

module.exports = appendScript;
