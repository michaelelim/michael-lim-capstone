import apply from './apply';

class CortElement extends Element {

  create (tagName = 'div', cls = '') {
    var self = this,
      elem = document.createElement(tagName),
      classes = cls.split(' ');
    classes
      .filter(item => !!item)
      .forEach(cl => elem.classList.add(cl));
    self.appendChild(elem);
    return elem;
  }

}

const TAGS = [
  'a', 'abbr', 'address',
  'area', 'article', 'aside',
  'audio', 'b', 'base',
  'bdi', 'bdo', 'blockquote',
  'body', 'br', 'button',
  'canvas', 'caption', 'cite',
  'code', 'col', 'colgroup',
  'datalist', 'dd', 'del',
  'details', 'dfn', 'dialog',
  'div', 'dl', 'dt',
  'em', 'embed', 'fieldset',
  'figcaption', 'figure', 'footer',
  'form', 'h1', 'h2',
  'h3', 'h4', 'h5',
  'h6', 'head', 'header',
  'hr', 'i', 'iframe',
  'img', 'input', 'ins',
  'kbd', 'keygen', 'label',
  'legend', 'li', 'link',
  'main', 'map', 'mark',
  'menu', 'menuitem', 'meta',
  'meter', 'nav', 'noscript',
  'object', 'ol', 'optgroup',
  'option', 'output', 'p',
  'param', 'pre', 'progress',
  'q', 'rp', 'rt',
  'ruby', 's', 'samp',
  'script', 'section', 'select',
  'small', 'source', 'span',
  'strong', 'style', 'sub',
  'summary', 'sup', 'table',
  'tbody', 'td', 'textarea',
  'tfoot', 'th', 'thead',
  'time', 'title', 'tr',
  'track', 'u', 'ul',
  'video', 'wbr', 'svg'
];

var methods = {};
TAGS.forEach(tagName => {
  if (CortElement.prototype.hasOwnProperty(tagName)) {
    return;
  }
  methods[tagName] = function (cls) {
    var self = this;
    return self.create(tagName, cls);
  };
});
Object.assign(CortElement.prototype, methods);

apply(CortElement);

export default CortElement;
