class Styles {

  constructor () {
    var self = this;
    self.counter = 0;
    self.appended = {};
  }

  append (css, n, instant) {
    var self = this,
      name = n || `style-${++self.counter}`,
      wrapper = document.createElement('style');
    wrapper.innerHTML = css;
    self.appended[name] = wrapper;
    if (instant) {
      document.head.appendChild(wrapper);
      return name;
    }
    document.addEventListener('DOMContentLoaded', ev => {
      document.head.appendChild(wrapper);
    }, false);
    return name;
  }

  remove (name) {
    var self = this;
    if (!self.appended[name]) {
      return;
    }
    self.appended[name].remove();
  }

}

export default new Styles();
