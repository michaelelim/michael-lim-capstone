'use strict';

const _ = require('lodash');
const Base = require('./base');

module.exports = class CortmlData extends require('./keys') {

  plain (key) {
    var self = this,
      data = key ? _.extend({}, self._get(key)) : _.extend({}, self);
    _.each(data, (val, name) => {
      if (val instanceof Base) {
        data[name] = val.getData();
      };
    });
    return data;
  }

}
