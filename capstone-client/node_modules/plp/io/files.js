'use strict';

const FileItem = require('./file-item.class');

const _ = {
  path: require('../path'),
  extend: require('../extend'),
  toBlobUrl: require('../to-blob-url'),
  http: require('./http'),
};

const state = {

};

function files () {

}

function createOne(data) {

}

function createMany(...files) {

}

function fromInput(elem) {
  return Array
    .from(elem.files)
    .map(item => new FileItem(item));
}

function fromBlob(blob, name) {
  blob.lastModified = new Date();
  blob.name = name;
  return new FileItem(blob);
}

function fromString(code, n) {
  var name = _.path.basename(n),
    blob = new Blob([code], {});
  return fromBlob(blob, name);
}

function fromURL(url) {
  return new Promise((resolve, reject) => {

  });
}

_.extend(files, {
  fromInput: fromInput,
  fromBlob: fromBlob,
  fromString: fromString,
});

module.exports = files;
