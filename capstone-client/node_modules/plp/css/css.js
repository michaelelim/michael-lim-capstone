'use strict';

const _ = {
  each: require('../each'),

  formatValue: require('./format-value'),
};

const state = {

};

function css (elem, name, value) {
  if (arguments.length === 3) {
    Object.assign(elem.style, _.formatValue(name, value));
    return;
  }
  if (arguments.length === 2 && typeof name === 'string') {
    return window.getComputedStyle(elem, null)[name];
  }
  if (arguments.length === 2) {
    _.each(name, (val, key) => css(elem, key, val));
    return elem;
  }
  let data = {},
    styles = window.getComputedStyle(elem, null);
  Array
    .from(styles)
    .forEach(name => data[name] = styles.getPropertyValue(name));
  return data;
}

module.exports = css;
