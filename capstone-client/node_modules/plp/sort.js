'use strict';

const _ = {
  keys: require('./keys'),
};

function sort (data, deep = false, skipArrays = false) {
  var result = {};
  if (!data || typeof data !== 'object') return data;
  if (!skipArrays && Array.isArray(data)) return deep
    ? data.sort().map(item => sort(item))
    : data.sort();
  if (skipArrays && Array.isArray(data)) return data;
  _
    .keys(data)
    .sort()
    .forEach(key => {
      result[key] = deep ? sort(data[key], deep, skipArrays) : data[key];
    });
  return result;
}

module.exports = sort;
