'use strict';

const _ = {
  parentNodes: require('./parent-nodes'),
  trim: require('./trim'),
};

function absolutePosition (elem) {
  var style = getComputedStyle(elem),
    elems = _.parentNodes(elem, true);
  // elems.forEach(e => {
  //   x += +_.trim(getComputedStyle(e).width, 'px');
  //   y += +_.trim(getComputedStyle(e).height, 'px');
  // });
  return [
    Math.round(elem.offsetTop),
    Math.round(elem.offsetLeft + +_.trim(style.width, 'px')),
    Math.round(elem.offsetTop + +_.trim(style.height, 'px')),
    Math.round(elem.offsetLeft),
  ];
}

module.exports = absolutePosition;
