'use strict';

const _ = {
  extend: require('./extend'),
  deco: require('./deco'),
};

const state = {

};

const p = _.deco.method(promiseFactoryDecorator);

function promiseFactory (cb) {
  
  return function (...args) {
    return new Promise((resolve, reject) => {
      cb(resolve, reject, ...args);
    });
  };
}

function promiseResolve(...args) {
  return Promise.resolve(...args);
}

function promiseFactoryDecorator(item, name, desc, a, b, c) {
  desc.value = promiseFactory(desc.value);
}

_.extend(p, {
  factory: promiseFactory,
  resolve: promiseResolve,
});

module.exports = p;
