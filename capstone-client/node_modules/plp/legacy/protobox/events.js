import apply from './apply';

class CortElement extends Element {

  delegate (selector, eventName, handler) {
    var self = this;
    self.addEventListener(eventName, ev => {
      var elem = ev.target;
      if (elem.matches(selector)) {
        return handler(ev, elem);
      }
      while (elem && elem.parentNode && elem.parentNode.tagName !== 'HTML') {
        elem = elem.parentNode;
        if (elem.matches(selector)) {
          return handler(ev, elem);
        }
      }
    }, false);
    return self;
  }

}

apply(CortElement);

export default CortElement;
