function ds(elem, name, value) {
  var dataset = elem.dataset || {};
  if (arguments.length === 1) {
    let data = {};
    Object.keys(dataset).forEach(key => data[key] = dataset[key]);
    return data;
  }
  if (arguments.length === 2) {
    return dataset[name];
  }
  dataset[name] = value;
  return elem;
}

export default ds;
