'use strict';

const _ = {
  json: require('./json'),
  sort: require('./sort'),
};

function isEqual (d1, d2) {
  if (d1 === d2) return true;
  if (!(d1 && d2) &&
    (typeof d1 !== 'string' || typeof d2 !== 'string'))
    return d1 === d2;
  return _.json(_.sort(d1, true, true))
    === _.json(_.sort(d2, true, true));
}

module.exports = isEqual;
