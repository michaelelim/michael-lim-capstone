'use strict';

const _ = {
  flatten: require('../flatten'),
  queue: require('../queue'),

  script: require('./script'),
  style: require('./style'),
  import: require('./import'),
};

const state = {

};

function loadUrls (...u) {
  var urls = _.flatten(u);
  return _.queue(urls, url => {
    var ext = url.split('.').pop(),
      method = {
        js: _.script,
        css: _.style,
        html: _.import,
      }[ext];
      return method.call(self, url);
  });
}

module.exports = loadUrls;
