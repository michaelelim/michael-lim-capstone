'use strict';

const _ = {
  Re: require('./re'),
  type: require('./type'),
};

function regFromString(str, flags = '', opts = {}) {
  var tmpl = opts === true ? str : str
    .replace(/([^a-zA-Z0-9])/mgi, (txt, s) => {
      return `\\${s}`;
    })
    .replace(/\\\.\\\.\\\.\\\./mgi, `([\\s\\S]+)`)
    .replace(/\\\.\\\.\\\./mgi, `([\\s\\S]+?)`);
  return new _.Re(new RegExp(tmpl, flags), opts);
}

module.exports = regFromString;
