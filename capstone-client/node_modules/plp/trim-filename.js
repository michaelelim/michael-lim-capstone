'use strict';

function trimFilename (filename, count = 10, trimLastNumbers, splitExt) {
  var parts = filename.split('.'),
    extname = parts.pop() || '',
    basename = parts.join('.');
  if (trimLastNumbers) {
    basename = basename.replace(/\-(\d+)$/, '');
  }
  if (basename.length > count) {
    basename = `${basename.slice(0, count)}.`;
  }
  if (splitExt) {
    return [basename, extname];
  }
  return `${basename}.${extname}`;
}

module.exports = trimFilename;
