'use strict';

const _ = {
  create: require('./create'),
};

function loadScriptSource (url) {
  return new Promise((resolve, reject) => {
    var elem = _.create({
      script: '',
      $src: url,
      appendTo: 'body',
      events: {
        load () {
          console.info(`Script «${url}» loaded successfully.`);
          resolve(elem, elem.innerHTML);
        },
        error (ev) {
          reject(ev);
        },
      },
    });
  });
}

module.exports = loadScriptSource;
